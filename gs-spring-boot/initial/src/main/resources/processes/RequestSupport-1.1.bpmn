<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.jboss.org/drools">
  <process id="RequestSupport-1.1" name="RequestSupport-1.1" isExecutable="true">
    <userTask id="_2" name="Support" activiti:candidateGroups="support">
      <extensionElements>
        <activiti:formProperty id="supportResellerLabel" name="Reseller" type="string" expression="${processVariables.reseller}" writable="false"></activiti:formProperty>
        <activiti:formProperty id="supportCustomerInformationLabel" name="Customer Information:" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="supportGroupId" name="Customer Id" type="string" expression="${group.id}" writable="false"></activiti:formProperty>
        <activiti:formProperty id="supportGroupName" name="Customer Name" type="string" expression="${group.name}" writable="false"></activiti:formProperty>
        <activiti:formProperty id="supportGroupName" name="Customer Phone" type="string" expression="${groupAddress.email}" writable="false"></activiti:formProperty>
        <activiti:formProperty id="supportGroupAddress" name="Customer Address" type="string" expression="${groupAddress.addressLine1}" writable="false"></activiti:formProperty>
        <activiti:formProperty id="supportGroupCity" name="Customer City" type="string" expression="${groupAddress.city}" writable="false"></activiti:formProperty>
        <activiti:formProperty id="supportGroupProvince" name="Customer State" type="string" expression="${groupAddress.state}" writable="false"></activiti:formProperty>
        <activiti:formProperty id="supportGroupCountry" name="Customer Country" type="string" expression="${groupAddress.country}" writable="false"></activiti:formProperty>
        
        <activiti:formProperty id="supportTicketInformationLabel" name="Ticket Information:" type="string" writable="false"></activiti:formProperty>
        <activiti:formProperty id="supportTicketSubject" name="Ticket Subject" type="string" expression="${ticket.subject}" writable="false"></activiti:formProperty>
        <activiti:formProperty id="supportTicketType" name="Ticket Type" type="string" expression="${ticket.type}" writable="false"></activiti:formProperty>
        <activiti:formProperty id="supportTicketStatus" name="Ticket Status" type="string" expression="${ticket.status}" writable="false"></activiti:formProperty>
        <activiti:formProperty id="supportTicketType" name="Ticket Type" type="string" expression="${ticket.type}" writable="false"></activiti:formProperty>
        <activiti:formProperty id="supportTicketDate" name="Ticket Create Date" type="date" expression="${ticket.createDate}" datePattern="dd-MMM-yyyy" writable="false"></activiti:formProperty>
        
        <activiti:formProperty id="supportEscNotes" name="Escalation Notes" type="string" expression="${processVariables.escNotes}"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <userTask id="_4" name="Support Notify Reseller / Customer of Account" activiti:candidateGroups="support">
	  <extensionElements>
	    <activiti:formProperty id="supportResellerLabel" name="Reseller" type="string" expression="${processVariables.reseller}" writable="false"></activiti:formProperty>
	    <activiti:formProperty id="supportCustomerInformationLabel" name="Customer Information:" type="string" writable="false"></activiti:formProperty>
	    <activiti:formProperty id="supportGroupId" name="Customer Id" type="string" expression="${group.id}" writable="false"></activiti:formProperty>
	    <activiti:formProperty id="supportGroupName" name="Customer Name" type="string" expression="${group.name}" writable="false"></activiti:formProperty>
	    <activiti:formProperty id="supportGroupName" name="Customer Phone" type="string" expression="${groupAddress.email}" writable="false"></activiti:formProperty>
	    <activiti:formProperty id="supportGroupAddress" name="Customer Address" type="string" expression="${groupAddress.addressLine1}" writable="false"></activiti:formProperty>
	    <activiti:formProperty id="supportGroupCity" name="Customer City" type="string" expression="${groupAddress.city}" writable="false"></activiti:formProperty>
	    <activiti:formProperty id="supportGroupProvince" name="Customer State" type="string" expression="${groupAddress.state}" writable="false"></activiti:formProperty>
	    <activiti:formProperty id="supportGroupCountry" name="Customer Country" type="string" expression="${groupAddress.country}" writable="false"></activiti:formProperty>
	    
	    <activiti:formProperty id="supportTicketInformationLabel" name="Ticket Information:" type="string" writable="false"></activiti:formProperty>
	    <activiti:formProperty id="supportTicketSubject" name="Ticket Subject" type="string" expression="${ticket.subject}" writable="false"></activiti:formProperty>
	    <activiti:formProperty id="supportTicketType" name="Ticket Type" type="string" expression="${ticket.type}" writable="false"></activiti:formProperty>
	    <activiti:formProperty id="supportTicketStatus" name="Ticket Status" type="string" expression="${ticket.status}" writable="false"></activiti:formProperty>
	    <activiti:formProperty id="supportTicketType" name="Ticket Type" type="string" expression="${ticket.type}" writable="false"></activiti:formProperty>
	    <activiti:formProperty id="supportTicketDate" name="Ticket Create Date" type="date" expression="${ticket.createDate}" datePattern="dd-MMM-yyyy" writable="false"></activiti:formProperty>
	    
	    <activiti:formProperty id="supportEscNotes" name="Escalation Notes" type="string" expression="${processVariables.escNotes}"></activiti:formProperty>
	  </extensionElements>
	</userTask>
    <sequenceFlow id="flow1" sourceRef="_2" targetRef="_4"></sequenceFlow>
    <startEvent id="startevent1" name="Start"></startEvent>
    <endEvent id="endevent1" name="End"></endEvent>
    <sequenceFlow id="flow3" sourceRef="_4" targetRef="endevent1"></sequenceFlow>
    <serviceTask id="servicetask1" name="Support Load Data" activiti:class="com.verecloud.nimbus.activiti.helpers.delegate.support.SupportLoadDataDelegate"></serviceTask>
    <sequenceFlow id="flow4" sourceRef="startevent1" targetRef="servicetask1"></sequenceFlow>
    <sequenceFlow id="flow5" sourceRef="servicetask1" targetRef="_2"></sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_RequestSupport-1.1">
    <bpmndi:BPMNPlane bpmnElement="RequestSupport-1.1" id="BPMNPlane_RequestSupport-1.1">
      <bpmndi:BPMNShape bpmnElement="_2" id="BPMNShape__2">
        <omgdc:Bounds height="48.0" width="124.0" x="88.0" y="120.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_4" id="BPMNShape__4">
        <omgdc:Bounds height="55.0" width="262.0" x="19.0" y="200.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="startevent1" id="BPMNShape_startevent1">
        <omgdc:Bounds height="35.0" width="35.0" x="132.0" y="-50.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent1" id="BPMNShape_endevent1">
        <omgdc:Bounds height="35.0" width="35.0" x="132.0" y="290.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="servicetask1" id="BPMNShape_servicetask1">
        <omgdc:Bounds height="55.0" width="132.0" x="84.0" y="20.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="flow1" id="BPMNEdge_flow1">
        <omgdi:waypoint x="150.0" y="168.0"></omgdi:waypoint>
        <omgdi:waypoint x="150.0" y="200.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow3" id="BPMNEdge_flow3">
        <omgdi:waypoint x="150.0" y="255.0"></omgdi:waypoint>
        <omgdi:waypoint x="149.0" y="290.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow4" id="BPMNEdge_flow4">
        <omgdi:waypoint x="149.0" y="-15.0"></omgdi:waypoint>
        <omgdi:waypoint x="150.0" y="20.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow5" id="BPMNEdge_flow5">
        <omgdi:waypoint x="150.0" y="75.0"></omgdi:waypoint>
        <omgdi:waypoint x="150.0" y="120.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>